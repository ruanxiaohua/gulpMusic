var dataList,len,control,timer,root=window.player,audio=root.audioManager;function getData(t){$.ajax({type:"GET",url:t,success:function(t){len=t.length,control=new root.controlIndex(len),dataList=t,root.renter(t[0]),audio.getAudio(t[0].audio),bindEvent()},error:function(){}})}function bindEvent(){function o(t){clearInterval(timer),t=+t,timer=setInterval(function(){t+=2,$(".img-box").attr("data-deg",t),$(".img-box").css({transform:"rotateZ("+t+"deg)",transition:"all 1s ease-out"})},200)}$("body").on("play:change",function(t,a){audio.getAudio(dataList[a].audio),root.renter(dataList[a]),"play"==audio.status&&(audio.play(),o(0)),$(".img-box").attr("data-deg",0),$(".img-box").css({transform:"rotateZ(0deg)",transition:"none"})}),$(".prev").on("click",function(){var t=control.prev();$("body").trigger("play:change",t)}),$(".next").on("click",function(){var t=control.next();$("body").trigger("play:change",t)}),$(".play").on("click",function(){"pause"==audio.status?(audio.play(),o($(".img-box").attr("data-deg"))):(audio.pause(),clearInterval(timer));$(".play").toggleClass("playing")})}getData("../mock/data.json");